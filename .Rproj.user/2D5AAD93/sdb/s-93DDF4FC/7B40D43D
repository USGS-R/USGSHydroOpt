{
    "contents" : "#' getAbs\n#'\n#' Retrieves individual absorbance coefficients\n#'\n#' @param dataAbs dataframe with absorbance spectra results, one column per sample, and one column with the wavelengths.\n#' @param waveCol character column name to define the wavelengths for which absorbance was measured.\n#' @param wavs numeric vector with absorbance wavelengths to extract.\n#' @param colSubsetString unique characters to identify which columns have absorbance data. \n#' The default is \"gr\" to comply with the common naming from the CA WSC.\n#' @param dataSummary dataframe with summary absorbance and fluoresence data. This \n#' function adds columns to the end of this dataframe as additional summary data.\n#' @param grnum character column name that defines the grnumbers in the dataSummary dataframe.\n#' These names are used to merge spectral slope data into the summary dataframe. \n#' This function assumes the column names of the dataAbs are grnumbers as well.\n#' @return summary absorbance and fluoresence dataframe with the additional absorbance peaks extracted using getAbs\n#' @export\n#' @examples\n#' dataAbs <- dfabs\n#' waveCol <- \"wavelengths\"\n#' wavs <- c(430,530,630,730)\n#' colSubsetString <- \"gr\"\n#' dataSummary <- dfsummary\n#' grnum <- \"GRnumber\"\n#' testAbs <- getAbs(dataAbs,waveCol,wavs,\n#'                colSubsetString,dataSummary,grnum)\ngetAbs <- function(dataAbs,waveCol,wavs,colSubsetString,dataSummary,grnum){\n  df <- dataAbs[,grep(colSubsetString,names(dataAbs))]\n  df <- df[,dataSummary[,grnum]]\n  grnums <- dataSummary[,grnum]\n  L <- dataAbs[,waveCol]\n  \n  dfAbsSig <- data.frame(GRnumber=grnums)\n  \n  for(j in 1:length(wavs)){\n    AbsCol <- which(dataAbs[,waveCol]==wavs[j])\n    A <- as.numeric(df[AbsCol,])\n    dfAbsSig <- cbind(dfAbsSig,A)\n  }\n  \n  Anames <- paste(\"A\",wavs,sep=\"\")\n  names(dfAbsSig) <- c(grnum,Anames)\n  dataSummary <- merge(dataSummary,dfAbsSig,by=grnum)\n  return(dataSummary)\n}\n\n\n",
    "created" : 1403704196250.000,
    "dirty" : false,
    "encoding" : "ISO8859-1",
    "folds" : "",
    "hash" : "2834573657",
    "id" : "7B40D43D",
    "lastKnownWriteTime" : 1403105073,
    "path" : "D:/stcData/R_projects/USGSHydroOpt/R/AbsFxn.R",
    "project_path" : "R/AbsFxn.R",
    "properties" : {
    },
    "source_on_save" : false,
    "type" : "r_source"
}